# ファイル path

```
src/pages/flowchart/
├── FlowchartPage.tsx
├── FlowchartPage.module.css
└── index.ts
```

# ページ の情報

## フローチャート描画ページ（FlowchartPage）

- **ページの説明**:
  - プロジェクト固有のフローチャートを作成・編集するためのページ
  - メタリックデザインによる高級感のあるUI
  - React Flowライブラリを使用したインタラクティブなフローチャート編集機能

- **主要機能**:
  - **ノード追加**: 5種類（IF・FOR・WHILE・不明・通常）のカスタムノードを配置
  - **ノード操作**: ドラッグ&ドロップによる移動、Deleteキーによる削除
  - **エッジ操作**: ノード間の接続線の作成・削除
  - **保存・クリア**: フローチャートの保存とクリア機能
  - **使い方ガイド**: 初回利用時の操作説明表示
  - **ミニマップ**: フローチャート全体の表示とナビゲーション
  - **コード入力機能**: プロジェクトコードの作成・編集・管理

- **デザイン特徴**:
  - **メタリック背景**: ダークグラデーション（#0f1419 → #718096）
  - **ガラス効果**: backdrop-filter による半透明エフェクト
  - **グラデーションテキスト**: タイトルのメタリック風テキスト
  - **ホバーエフェクト**: ボタンの浮上アニメーション
  - **放射状オーバーレイ**: 背景の光彩効果

- **ルーティング**:
  - パス: `/flowchart/{projectId}`
  - パラメータ: `projectId` - 対象プロジェクトのUUID

- **状態管理**:
  - ローカル状態: 説明パネルの表示・非表示、コード入力エリアの表示・非表示
  - フローチャート状態: `useFlowchart` フックで管理
  - プロジェクトコード状態: Redux による状態管理
  - 通知: `useNotification` フックで成功・エラー通知

- **アクセシビリティ**:
  - キーボード操作対応（Deleteキーでノード削除）
  - 操作説明の提供
  - 明確なボタンラベルとツールチップ

- **パフォーマンス最適化**:
  - `useCallback` によるイベントハンドラーの最適化
  - ReactFlowProvider による描画最適化
  - レスポンシブデザイン対応

- **カスタムノード詳細**:
  - **IF文ノード**: ひし形デザイン、条件分岐用（true/false エッジ）
  - **FOR文ノード**: 六角形デザイン、ループ処理用
  - **WHILE文ノード**: 円形デザイン、繰り返し処理用
  - **不明ノード**: 角丸四角形、警告アニメーション付き
  - **通常ノード**: 四角形デザイン、一般的な処理用

- **依存関係にあるファイル**:
  - `@xyflow/react`: React Flow コアライブラリ
  - `@/features/flowchart`: フローチャート機能（カスタムノード含む）
  - `@/components/CodeInput`: プロジェクトコード入力コンポーネント
  - `@/hooks/useNotification`: 通知機能
  - `react-router-dom`: ルーティング（useParams）

# 最新の更新内容 (feature/#26 ブランチ)

## AI フローチャート生成機能の追加

- **タブベースUI導入**:
  - 手動作成タブ（`manual`）: 従来のドラッグ&ドロップによる手動作成
  - AI生成タブ（`ai`）: コードからの自動フローチャート生成
  - タブ切り替え状態管理 (`activeTab`)

- **FlowchartGenerator コンポーネント統合**:
  - AIタブ内で `FlowchartGenerator` コンポーネントを表示
  - コード入力とプログラミング言語選択UI
  - バックエンドAPIを呼び出してフローチャート自動生成
  - 生成結果を既存のフローチャートキャンバスで表示

- **ユーザーエクスペリエンス向上**:
  - タブ間でのフローチャート状態の維持
  - 手動作成と自動生成の切り替えが可能
  - 統一されたUIデザインでシームレスな操作体験

- **技術的な改良**:
  - ReactFlowProvider の適切な配置でコンテキスト共有
  - プロップドリリングの回避とコンポーネント分離
  - レスポンシブデザインの維持